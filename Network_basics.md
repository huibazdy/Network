# 网络常识

## 一、物理层

### 1.1 宽带

宽带是相较于早期电话拨号入网技术的一个概念，电话线接入互联网的最高速率只能达到56 kbit/s，后来美国联邦通信委员会（FCC）认为双向速率之和大于200 kbit/s就是宽带。

2015年1月，FCC重新定义宽带为：下行速率**25 Mbit/s**，上行速率达**3 Mbit/s**。

### 1.2 宽带接入

宽带接入技术可以分为：有线接入与无线接入。在这里主要讨论有线接入。

#### ADSL

非对称数字用户线（Asymmetric Digital Subscriber Line，ADSL）是利用数字技术对模拟==电话==用户线进行改造，使其能承载宽带数字业务的一种技术。

其原理是：模拟电话频带在300~3400 Hz，将0~4 kHz低频带留给传统电话使用，将未被利用的高频带留给宽带使用。

其实现是：用户线（铜线）两端各装一个ADSL调制解调器。

ADSL的优点：不需要重新布线，利用已有的电话线即可（许多老建筑电话线早已存在），若重新铺设光纤往往会造成建筑损伤。



#### HFC

光纤同轴混合网（Hybrid Fiber Coax，HFC）是在==有线电视==基础上开发的一种居民宽带接入网。

为提高传输性能，HFC网蒋原有线电视网中的同轴电缆主干换成光纤。如图：

<img src="https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/202209061049644.png" alt="image-20220906104940575" style="zoom: 80%;" />

在**光纤节点**，光信号被转换为电信号。连接到光纤节点的用户数不会超过2000，典型数是500。



#### FTTx

全称为Fiber To The...，如果后面加上Home就是光纤入户。其中x就是光电转换的地方。



## 二、数据链路层

### 2.1 帧封装

封装成帧（framing）就是将网络层下传的IP数据报（也称包或分组）加上首部和尾部，构成帧（Frame）。IP数据报就是帧的数据部分。

首部和尾部的作用是**帧定界**（即确定帧的界限）以及添加**控制信息**。

每一种链路层协议规定了**最大传输单元（Maximum Transfer Unit，MTU）**来描述每一帧的数据部分（IP数据报）长度上限。示意图如下：

<img src="https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/202209061138946.png" alt="image-20220906113824909"  />

当数据部分是ASCII码组成的文本文件时，可以使用特殊的帧定界方法，称为**帧定界符**。	帧定界符由**SOH**（Start of Header）和**EOT**（End of Transmission）组成，他们是名称，实际表现为十六进制ASCII码**01**和**04**。

<img src="https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/202209061159666.png" alt="image-20220906115902630"  />



### 2.2 透明传输

当传输的数据是文本文件时，由于文本文件中的字符都是从键盘上输入的，故不会在数据部分出现像SOH与EOT这样的帧定界控制字符。

无论从**键盘**上输入什么**字符**都可以放在这样的帧（**ASCII码文本文件**数据）中传输过去，因此称这样的传输是**透明传输**。

当传输的是帧数据部分是**非ASCII码文本文件**时（二进制计算机程序、图像等），有可能遇到**“EOT”**（二进制数据**00000100**），此时数据无法完整传过去：

![image-20220906144643318](https://raw.githubusercontent.com/huibazdy/TyporaPicture/main/202209061446374.png)



### 2.3 差错控制

> 差错可以分为比特差错与传输差错

* 比特差错
* 误码率（BER）
* 循环冗余检验（CRC）
* 帧检验序列（FCS）



* 传输差错：帧丢失、帧重复、帧失序



### 2.4 ARP与RARP

数据链路层常用的协议有两种，分别是地址解析协议（Address Resolve Protocol，ARP）和逆地址解析协议（ Reverse Address Resolve Protocol，RARP）。他们实现了***IP地址与物理地址（通常是MAC地址）之间的转换***。

网络层利用IP地址寻找网络中的主机，数据链路层使用物理地址寻找主机。因此需要将IP地址转化为物理地址，才能使其为上层（网络层）提供服务，这就是ARP的用途。

RARP协议只用于网络中的一些无盘工作站。